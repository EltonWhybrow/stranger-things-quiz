<div class="content-area vines">
  <!-- <h2 class="mat-headline">Quiz</h2>
  <p class="mat-subheading-2">Test your knowledge on Stranger Things Quiz
  </p> -->
  <!-- <h1 class="mat-h1">Time to test you knowledge to see if you a real fan or just a flash in th e pan.</h1> -->

  <mat-card *ngIf="questionList else loading">

    <!-- Score counter / TODO: May hide this!! -->
    <div class=" score">
      <button mat-fab [color]="score > 0 ? 'accent' : 'primary'" aria-label="current score">
        {{score}}
      </button>
    </div>

    <!-- The Quiz questions -->
    <ng-container *ngIf="!quizComplete">
      <div class="questions">
        <h1 class="mat-h1">{{currentQuestion + 1}}. {{questionList[currentQuestion]?.question}}</h1>
      </div>

      <div class="answers">
        <ul>
          <li *ngFor="let option of questionList[currentQuestion]?.possibleAnswers">
            <button (click)="answer(currentQuestion, option)" appBgColor
              [isCorrect]="option === this.questionList[currentQuestion].correctAnswer" color="accent" mat-flat-button>
              {{option}}
            </button>
          </li>
        </ul>
      </div>
    </ng-container>

    <!-- Quiz complete display -->
    <div *ngIf="quizComplete">
      <div class="result">
        <h2>Congratulations your done!!</h2>
        <h2 class="mat-display-3">You scored {{score}}!</h2>
        <p>Out of {{questionList.length}} questions</p>
        <p>{{incorrectAnswer}} answered incorrectly!</p>
      </div>
    </div>

    <!-- Question number and reset -->
    <mat-toolbar class="toolbar">
      <div class="controls" *ngIf="quizComplete">
        <button (click)="resetQuiz()" mat-mini-fab color="primary" aria-label="previous question">
          <mat-icon>autorenew
          </mat-icon>
        </button> <span class="mat-body-1">Restart</span>
      </div>

      <h1 *ngIf="!quizComplete" class="mat-h1">Question {{currentQuestion + 1}} of {{questionList.length}}</h1>

    </mat-toolbar>

  </mat-card>

  <ng-template #loading>
    <app-spinner></app-spinner>
  </ng-template>

</div>
